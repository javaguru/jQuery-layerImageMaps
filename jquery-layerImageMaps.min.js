/*
 * layerImageMaps jQuery plugin v1.1
 *
 * Allows layer injection based on maps area coords(x,y,-,-)
 *
 * Copyright (c) 2016 Franck Andriano
 * https://github.com/javaguru/jQuery-layerImageMaps
 * Licensed under the MIT license
 *
 ***
 * Original code by Matt Stow
 * https://github.com/stowball/jQuery-rwdImageMaps
 *
 * Modified by Franck Andriano 23/04/2015
 *
 */
!function(t){t.fn.layerImageMaps=function(a){var e=this,r=e.find("img[usemap]"),i={ajustTop:0,ajustLeft:0};this.options=t.extend({},i,a),console.log("Init layerImageMaps area: #"+this.attr("id"));var n=function(){r.each(function(){if("undefined"!=typeof t(this).attr("usemap")){var a=this,r=t(a);t("<img />").on("load",function(){var a=r.attr("width"),i=r.attr("height");if(!a||!i){var n=new Image;n.src=r.attr("src"),a||(a=n.width),i||(i=n.height)}var s=r.width()/100,o=r.height()/100,p=r.attr("usemap").replace("#",""),h="coords";t('map[name="'+p+'"]').find("area").each(function(){var r=t(this);r.data(h)||r.data(h,r.attr(h));var n=r.data(h).split(","),p=new Array(n.length),f=t("#layer-"+r.attr("data-id"));f.appendTo(e);for(var d={},u=0;u<p.length;++u)u%2===0?(p[u]=parseInt(n[u]/a*100*s),0==u&&(d.left=p[u])):(p[u]=parseInt(n[u]/i*100*o),1==u&&(d.top=p[u]));t(f).css({position:"absolute",top:d.top+e.options.ajustTop+"px",left:d.left+e.options.ajustLeft+"px"}).show()})}).attr("src",r.attr("src"))}})};return t(window).resize(n).trigger("resize"),this}}(jQuery);
